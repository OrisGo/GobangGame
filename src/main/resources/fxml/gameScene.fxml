<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.shape.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.Text?>

<HBox spacing="20" alignment="CENTER" style="-fx-background-color: #333;"
      xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.gobang.client.controller.GameController">
    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <StackPane fx:id="boardContainer" prefWidth="600" prefHeight="600"
               style="-fx-background-color: #F0DCB4; -fx-border-color: #8B4513; -fx-border-width: 5;">
        <Pane fx:id="chessPane" onMouseClicked="#handleBoardClick" />
    </StackPane>

    <VBox spacing="15" alignment="TOP_CENTER" prefWidth="250" style="-fx-background-color: #444; -fx-background-radius: 10;">
        <padding>
            <Insets top="20" right="15" bottom="20" left="15"/>
        </padding>

        <Text text="五子棋对战" style="-fx-fill: white; -fx-font-size: 22; -fx-font-weight: bold;"/>
        <Separator />

        <VBox spacing="8" alignment="CENTER_LEFT">
            <Label text="当前回合：" textFill="LIGHTGRAY" />
            <HBox spacing="10" alignment="CENTER_LEFT">
                <Circle fx:id="turnIndicator" radius="8" fill="BLACK" stroke="WHITE" />
                <Label fx:id="statusLabel" text="黑子落子" textFill="WHITE" style="-fx-font-size: 14;"/>
            </HBox>
        </VBox>

        <Separator />

        <VBox VBox.vgrow="ALWAYS" spacing="10">
            <Label text="聊天记录：" textFill="LIGHTGRAY" />
            <TextArea fx:id="chatArea" editable="false" wrapText="true"
                      style="-fx-control-inner-background: #555; -fx-text-fill: white;" prefHeight="200"/>
            <HBox spacing="5">
                <TextField fx:id="messageInput" HBox.hgrow="ALWAYS" promptText="输入消息..." onAction="#handleSendMessage"/>
                <Button text="发送" onAction="#handleSendMessage" style="-fx-background-color: #5cb85c; -fx-text-fill: white;"/>
            </HBox>
        </VBox>

        <Separator />

        <HBox spacing="10" alignment="CENTER">
            <Button text="悔棋" onAction="#handleUndo" prefWidth="100"
                    style="-fx-background-color: #555; -fx-text-fill: white; -fx-cursor: hand;"/>
            <Button text="重置游戏" onAction="#handleReset" prefWidth="100"
                    style="-fx-background-color: #d9534f; -fx-text-fill: white; -fx-cursor: hand;"/>
        </HBox>

        <Label fx:id="timerLabel" text="00:00" textFill="AZURE" style="-fx-font-family: 'Courier New'; -fx-font-size: 18;"/>
    </VBox>
</HBox>